import{m as A,r,t as N,j as e,c as o,_ as b}from"./index-BMh66HCr.js";import{c as g}from"./convertDate-DsGWlg30.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=A("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),L="/assets/glasses-ZWxYqNJM.png",q=()=>{const[t,c]=r.useState(),[i,h]=r.useState(""),[v,x]=r.useState(!1),[k,p]=r.useState(!1),[n,m]=r.useState(null),[d,y]=r.useState(null),C=async()=>{var s,l;try{x(!0);const{data:a}=await o.post("/api/water-add",{amount:t});m(u=>[...u,a.water]),x(!1)}catch(a){b.error(((l=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:l.message)||"There is an Error"),x(!1),console.error(a)}},W=async()=>{var s,l;try{p(!0);const{data:a}=await o.post("/api/foodnote-add",{note:i});y(u=>[...u,a.note]),p(!1),h("")}catch(a){b.error(((l=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:l.message)||"There is an Error"),p(!1),console.error(a)}},{data:j}=N({queryFn:async()=>{const{data:s}=await o.get("/api/water?fields=amount,createdAt");return s.water},queryKey:["water"]});r.useEffect(()=>{m(j)},[j]);const f=N({queryFn:async()=>{const{data:s}=await o.get("/api/foodnote");return s.note},queryKey:["notesFood"]});return r.useEffect(()=>{y(f.data)},[f.data]),e.jsxs("div",{children:[e.jsx("div",{className:"mb-5",children:e.jsxs("div",{className:"border border-gray-300",children:[n&&e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500  ",children:[e.jsx("thead",{className:"text-xs text-gray-700 whitespace-nowrap uppercase bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Water amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 border-l",children:"Date"})]})}),e.jsx("tbody",{children:n==null?void 0:n.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-2",children:[s==null?void 0:s.amount," Cups"]}),e.jsx("td",{className:"px-6 py-2 border-l",children:g(s==null?void 0:s.createdAt)})]},s._id))})]}),d&&(d!=null&&d.length)?e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500  mt-5",children:[e.jsx("thead",{className:"text-xs text-gray-700 whitespace-nowrap uppercase bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"note"}),e.jsx("th",{scope:"col",className:"px-6 py-3 border-l",children:"Date"})]})}),e.jsx("tbody",{children:d==null?void 0:d.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-2",children:[s==null?void 0:s.note," Cups"]}),e.jsx("td",{className:"px-6 py-2 border-l",children:g(s==null?void 0:s.createdAt)})]},s._id))})]}):""]})}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-full px-5 space-y-3 border py-5",children:[e.jsx("h3",{className:"text-[#00548F] font-semibold text-xl",children:"Water consumption"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"text-lg font-medium",children:"Todayâ€˜s Water Total"}),e.jsx("span",{children:"Aim to drink at least 8 cups of water today. You can quick add common sizes or enter a custom amount."})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[t?e.jsxs("span",{className:" font-bold whitespace-nowrap",children:[t," cups"]}):"",e.jsx("div",{children:e.jsx("div",{className:"w-14 overflow-hidden",children:e.jsx("div",{style:{marginLeft:t?`-${t==1?10:t>4?34:(t-t/6)*10}rem`:"0px"},className:"w-[600px] relative",children:e.jsx("img",{className:" w-full h-full object-contain",src:L,alt:""})})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{className:"font-medium",children:"Quick Add"}),e.jsxs("div",{className:"space-x-3",children:[e.jsx("button",{onClick:()=>c(1),className:"text-blue-700 font-medium border px-2 rounded-md py-1",children:"1 cup"}),e.jsx("button",{onClick:()=>c(2),className:"text-blue-700 font-medium border px-2 rounded-md py-1",children:"2 cup"}),e.jsx("button",{onClick:()=>c(5),className:"text-blue-700 font-medium border px-2 rounded-md py-1",children:"5 cup"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{className:"font-medium",children:"Add Custom"}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx("input",{type:"number",value:t,max:10,min:1,className:"border border-gray-300 p-2 w-32 outline-none",onChange:s=>{c(s.target.value>10?10:s.target.value)}}),t>1?e.jsx("button",{onClick:C,className:"w-full flex justify-center bg-blue-500 text-white-White font-medium py-2 rounded-md",children:v?e.jsx(w,{className:"animate-spin"}):"Add Today"}):""]})]})]}),e.jsxs("div",{className:"w-full px-5 space-y-3 border py-5",children:[e.jsx("h3",{className:"text-[#00548F] font-semibold text-xl",children:"Today's Food Notes?"}),e.jsx("textarea",{value:i,placeholder:"I Eat some ........",onChange:s=>h(s.target.value),className:"w-full border border-gray-300 p-2 min-h-44 max-h-52"}),i?e.jsx("button",{onClick:W,className:"w-full flex justify-center bg-blue-500 text-white-White font-medium py-2 rounded-md",children:k?e.jsx(w,{className:"animate-spin"}):"Save note"}):""]})]})]})},T=()=>e.jsx("div",{className:"pcontainer py-10",children:e.jsx(q,{})});export{T as default};
