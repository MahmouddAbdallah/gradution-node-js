import{k as m,j as s,r as n,c as x,_ as j,d as k,l as A}from"./index-BMh66HCr.js";import{N as C}from"./Navbar-D7rvvHVb.js";import{c as g}from"./convertDate-DsGWlg30.js";import{u as F}from"./index.esm-ClWcd2Qo.js";import"./UserNavbar-YhX60dNv.js";import"./useCloseOnOutsideClick-BstDWFtL.js";import"./clsx-B-dksMZM.js";const o=({className:i,img:e,name:d,color:t})=>s.jsx("div",{className:`overflow-hidden rounded-full ${i}`,children:e?s.jsx("img",{className:"w-full h-full object-cover",src:e,alt:"ava"}):s.jsx("div",{className:`w-full h-full ${t||"bg-blue-500"} border flex items-center justify-center text-white-White font-semibold rounded-full`,children:d==null?void 0:d.charAt(0)})});o.propTypes={className:m.string,img:m.string,name:m.string,color:m.string};const N=({articleId:i})=>{const[e,d]=n.useState(!1),[t,r]=n.useState(null),{register:a,handleSubmit:v,formState:{isValid:b},reset:f}=F(),p=n.useCallback(async()=>{try{const{data:l}=await x.get(`/api/blog/comment/${i}`);r(l.comments)}catch(l){d(!1),console.log(l)}},[i]);n.useEffect(()=>{p()},[p]),console.log(t);const w=v(async l=>{var h,u;try{d(!0);const{data:c}=await x.post(`/api/blog/comment/${i}`,{text:l.text});r(y=>[...y,c.comment]),j.success(c.message),f(),d(!1)}catch(c){d(!1),j.error(((u=(h=c==null?void 0:c.response)==null?void 0:h.data)==null?void 0:u.message)||"There is an Error"),console.log(c)}});return s.jsxs("div",{className:"pt-20 pb-10",children:[s.jsxs("div",{className:"pb-20",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-semibold",children:"Comments"})}),t?s.jsx("div",{className:" space-y-10 pt-10",children:t.map(l=>s.jsx("div",{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{className:"w-14 h-14",img:l.user.picture,name:l.user.name}),s.jsxs("div",{children:[s.jsx("span",{className:"block",children:l.user.name}),s.jsx("span",{className:"block",children:g(l.createdAt)})]})]}),s.jsx("p",{className:"tracking-wide font-medium text-[#0000009e]",children:l.text})]})},l.createdAt))}):s.jsx("div",{className:"pt-10 text-center",children:"No comments yet"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"pb-5 space-y-2",children:[s.jsx("span",{className:"text-xl font-medium block",children:"Leave a Reply"}),s.jsx("span",{className:"block",children:"Your email address will not be published. Required fields are marked *"})]}),s.jsx("form",{onSubmit:w,children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-",children:"Comment*"}),s.jsx("textarea",{placeholder:"Add Comment...",className:" w-full py-3 px-5 border-2 focus:border-primary-blue outline-none max-h-44 min-h-[100px]",...a("text",{required:"Please Enter the Text"})})]})}),s.jsx("button",{disabled:!b||e,className:"w-40 px-3 py-2 bg-blue-500 disabled:bg-blue-300 text-white-White flex justify-center",children:e?s.jsx(k,{className:"animate-spin"}):"Post a comment"})]})})]})]})};N.propTypes={articleId:m.string};const S=()=>s.jsxs("article",{children:[s.jsxs("div",{className:"flex flex-col-reverse py-10 md:py-0 gap-10 md:gap-0 md:grid grid-cols-12 bg-[#F5F5F5]",children:[s.jsx("div",{className:"col-span-6 px-5 md:px-0  pl-4 sm:pl-3 md:pl-5 lg:pl-10 xl:pl-20",children:s.jsx("div",{className:"h-full flex items-center",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-80 lg:w-96 h-5 bg-slate-200 animate-pulse rounded-md "}),s.jsx("div",{className:"w-80  h-5 bg-slate-200 animate-pulse rounded-md "}),s.jsx("div",{className:"w-80 lg:w-72 h-5 bg-slate-200 animate-pulse rounded-md "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 animate-pulse"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"block font-medium w-40 bg-slate-200 animate-pulse h-3"}),s.jsx("span",{className:"block font-medium w-32 bg-slate-200 animate-pulse h-3"})]})]})]})})}),s.jsx("div",{className:"col-span-6",children:s.jsx("div",{className:"w-full h-96 lg:h-[450px] bg-slate-200 animate-pulse"})})]}),s.jsx("div",{className:"pcontainer py-20",children:s.jsx("div",{className:"md:px-5 lg:px-32 xl:px-60",children:s.jsxs("div",{className:"gap-5 flex flex-col items-center",children:[s.jsx("div",{className:"w-full h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[98%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[95%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[93%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[90%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[88%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[90%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[83%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[85%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[93%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[90%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[93%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[95%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[98%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-full h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[98%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[99%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[93%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[90%] h-4  rounded-xl bg-slate-200 animate-pulse"}),s.jsx("div",{className:"w-[93%] h-4  rounded-xl bg-slate-200 animate-pulse"})]})})})]}),q=()=>{var r;const{id:i}=A(),[e,d]=n.useState(),t=n.useCallback(async()=>{try{const{data:a}=await x.get(`/api/blog/article/${i}`);d(a.article)}catch(a){console.log(a)}},[i]);return n.useEffect(()=>{e||t()},[e,t]),s.jsxs("div",{className:"pb-10",children:[s.jsx(C,{}),s.jsx("div",{children:e?s.jsxs("article",{children:[s.jsxs("div",{className:"flex flex-col-reverse py-10 md:py-0 gap-10 md:gap-0 md:grid grid-cols-12 bg-[#F5F5F5]",children:[s.jsx("div",{className:"col-span-6 px-5 md:px-0  pl-4 sm:pl-3 md:pl-5 lg:pl-10 xl:pl-20",children:s.jsx("div",{className:"h-full flex items-center",children:s.jsxs("div",{className:"space-y-5",children:[s.jsx("h3",{className:" text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{children:s.jsx(o,{className:"w-16 h-16",img:e.user.picture,name:e.user.name})}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium",children:e.user.name}),s.jsx("span",{className:"block font-medium",children:g(e.createdAt)})]})]})]})})}),s.jsx("div",{className:"col-span-6",children:s.jsx("img",{className:"w-full",src:e.img,alt:""})})]}),s.jsx("div",{className:"pcontainer py-20",children:s.jsx("div",{className:"md:px-5 lg:px-32 xl:px-60",children:s.jsx("span",{className:"lg:text-lg",children:e.description})})}),s.jsx("div",{className:"pcontainer ",children:s.jsx("div",{className:"md:px-5 lg:px-32 xl:px-60",children:s.jsxs("div",{children:[s.jsx("div",{className:"space-y-10",children:(r=e.content)==null?void 0:r.map(a=>s.jsx("div",{children:s.jsxs("div",{className:"space-y-10",children:[s.jsxs("div",{className:`${a.img?"space-y-10":""}`,children:[s.jsx("span",{className:"text-xl md:2xl lg:text-3xl font-medium",children:a.title}),s.jsx("div",{className:"flex justify-center",children:a.img&&s.jsx("img",{src:a.img,alt:""})})]}),s.jsx("div",{children:s.jsx("span",{className:"lg:text-lg",children:a.content})})]})},a._id))}),s.jsx("div",{children:s.jsx(N,{articleId:i})})]})})})]}):s.jsx(S,{})})]})};export{q as default};
