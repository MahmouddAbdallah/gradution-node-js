import{m as f,k as n,j as s,t as o,L as p,c as d,f as N,W as y,l as b,r as x}from"./index-BMh66HCr.js";import{N as v}from"./Navbar-D7rvvHVb.js";import"./UserNavbar-YhX60dNv.js";import"./useCloseOnOutsideClick-BstDWFtL.js";import"./clsx-B-dksMZM.js";import"./convertDate-DsGWlg30.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=f("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),m=({rate:e})=>s.jsx("div",{className:"flex gap-1",children:Array(e).fill().map((l,t)=>s.jsx(w,{className:"fill-yellow-300 stroke-yellow-300"},t))});m.propTypes={rate:n.any};const h=({id:e})=>{const{data:l}=o({queryKey:["pharmacist",e],queryFn:async()=>{const{data:t}=await d.get(`/api/pharmacist/${e}?fields=name,picture,country`);return t.pharmacist},gcTime:"Infinity"});return l&&s.jsx(p,{className:"block",to:`/profile/${e}`,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-12",children:s.jsx("img",{className:"rounded-full object-cover w-full h-full",src:l.picture||"./person.jpg",alt:""})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium",children:l.name}),s.jsx("p",{className:"text-sm font-medium",children:l.country})]})]})})};h.propTypes={id:n.string};const u=({id:e})=>{const l=async()=>{const{data:c}=await d.get(`/api/store/product/${e}/category?fields=imgs,title,price,rating`);return c.products},{data:t}=o({queryKey:["prodcutCate",e],queryFn:l});return s.jsx("div",{className:"flex gap-5",children:t&&t.map(c=>s.jsx(p,{className:"block",to:`/store/product/${c._id}`,children:s.jsxs("div",{className:"w-64 space-y-3",children:[s.jsx("div",{className:"w-64 h-64 flex items-center border border-gray-400 bg-black-black/5",children:s.jsx("img",{className:" object-cover",src:c.imgs[0],alt:c.title})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"font-semibold text-[#007185]",children:c.title}),s.jsx("div",{children:s.jsx(m,{rate:c.rating})}),s.jsxs("p",{className:"font-medium text-lg flex items-start",children:[s.jsx("span",{className:"text-xs",children:"EGP"}),c.price,"$"]})]})]})},c._id))})};u.propTypes={id:n.string};const j=({productId:e,productPrice:l})=>{const t=N(),c=async()=>{try{const{data:i}=await d.post("/api/store/cart",{product:e,quantity:1,price:l});t({type:y.ADD_CART,payload:i.count})}catch(i){console.error(i)}};return s.jsx("button",{onClick:c,className:"w-full py-2 rounded-full bg-blue-500 text-white-White",children:"Add To Cart"})};j.propTypes={productId:n.string,productPrice:n.string};const $=()=>{const{id:e}=b(),[l,t]=x.useState(0),c=async()=>(await d.get(`/api/store/product/${e}`)).data,{data:i}=o({queryKey:["product",e],queryFn:c,gcTime:"Infinity"}),a=i==null?void 0:i.product;return x.useEffect(()=>{window.scrollTo(0,0)},[e]),s.jsxs("div",{children:[s.jsx(v,{}),s.jsx("div",{className:"min-h-svh pcontainer py-10",children:a&&s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-12 space-y-5 md:space-y-0 lg:gap-10 border-b-2 pb-10",children:[s.jsx("div",{className:"col-span-12 lg:col-span-6 ",children:s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-5 sticky z-50 top-0",children:[s.jsx("div",{className:"flex flex-row md:flex-col gap-3",children:a.imgs.map((r,g)=>s.jsx("button",{onMouseEnter:()=>t(g),className:"w-14 h-14 bg-black-black/5 border-gray-400",children:s.jsx("img",{className:"h-full w-full object-contain",src:r,alt:""})},r))}),s.jsx("div",{className:"w-full h-96 bg-black-black/5",children:s.jsx("img",{className:"w-full h-full object-contain",src:a.imgs[l],alt:""})})]})}),s.jsxs("div",{className:"col-span-12 lg:col-span-6 space-y-4",children:[s.jsx("h3",{className:"text-4xl font-bold",children:a.title}),s.jsx("p",{children:a.description}),s.jsx("div",{children:s.jsxs("h3",{className:"font-medium",children:["Price : ",s.jsx("span",{className:"text-xl font-bold",children:a.price}),"$"]})}),s.jsx("div",{children:s.jsx(m,{rate:a.rating})}),s.jsx(h,{id:a.pharmacist}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Use to : "}),s.jsx("p",{className:"ml-2 text-sm",children:a.useTo})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Warning : "}),s.jsx("ul",{className:" ml-2 mt-2",children:a.warning.map(r=>s.jsx("li",{className:"text-sm",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"pt-2",children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-black-black"})}),r]})},r))})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ingredient : "}),s.jsx("ul",{className:" ml-2 mt-2",children:a.ingredient.map(r=>s.jsx("li",{className:"text-sm",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"pt-2",children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-black-black"})}),r]})},r))})]}),s.jsxs("div",{className:"flex w-full gap-3 mt-5",children:[s.jsx(j,{productId:a._id,productPrice:a.price}),s.jsx("button",{className:"w-full py-2 rounded-full bg-black-black text-white-White",children:"Buy now"})]})]})]}),s.jsx("div",{className:"mt-10 lg:mt-20",children:s.jsx(u,{id:a.category})})]})})]})};export{$ as default};
